{"version":3,"sources":["components/StreamChart.js","components/PlagueMap.js","causes-of-death.csv","play-data.geojson","dup.geojson","weeklydisease.csv","components/fadeinSec.js","components/BurialMap.js","components/BarChart.js","App.js","reportWebVitals.js","index.js"],"names":["StreamChart","this","drawChart","margin","width","props","height","svg","attr","append","d3","data","keys","columns","slice","x","domain","range","call","ticks","gridlines","tickFormat","tickSize","scale","y","color","stackedData","offset","Tooltip","style","selectAll","enter","d","key","curve","i","week_number","y0","y1","on","console","log","grp","mousex","invert","Math","floor","text","ref","handle","React","Component","secretWeekSelector","PlagueMap","prevProps","prevState","selector","updateChart","g","select","size","mapLayer","fillFn","c","week","properties","pCount","all","centered","projection","center","translate","path","clicked","effectLayer","classed","bigText","countText","k","centroid","transition","duration","mouseover","fontIndex","round","random","FONTS","length","fontFamily","BASE_FONT","textArt","parish","nameFn","count","disCount","mouseout","remove","error","mapData","features","FadeInSection","useState","isVisible","setVisible","domRef","useRef","useEffect","IntersectionObserver","entries","forEach","entry","isIntersecting","observe","current","className","children","BurialMap","BarChart","map","cause","padding","max","bandwidth","titlesTotals","require","App","onSliderChange","value","setState","state","stateStream","dieaseTot","id","statePlague","plagueMapData","stateBurial","burialMapData","stateBar","weeklydisease","src","title","frameBorder","webkitallowfullscreen","mozallowfullscreen","allowFullScreen","href","marginLeft","marginRight","week_text","marginBottom","Plague","min","step","marks","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","onChange","alt","class","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44aaed00.chunk.js","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\n\nclass StreamChart extends React.Component {\n    componentDidMount() {\n    this.drawChart();\n}\n\n    drawChart() {\n        // set the dimensions and margins of the graph\n        var margin = {top: 20, right: 30, bottom: 30, left: 60},\n        width = this.props.width - margin.left - margin.right,\n        height = this.props.height - margin.top - margin.bottom;\n\n        // append the svg object to the body of the page\n        var svg = this.svg\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n        \n\n        // Parse the Data\n        //d3.csv(\"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/5_OneCatSevNumOrdered_wide.csv\", function(data) {\n        d3.csv(this.props.data, function(data) {\n        // List of groups = header of the csv files\n            var keys = data.columns.slice(1)\n\n            // Add X axis\n            var x = d3.scaleLinear()\n            .domain([1, 52])\n            .range([ 0, width ]);\n\n            svg.append(\"g\")\n                .attr(\"transform\", \"translate(0,\" + height + \")\")\n                .call(d3.axisBottom(x).ticks(52));\n\n\n            var gridlines = d3.axisBottom()\n                .ticks(52)\n                .tickFormat(\"\")\n                .tickSize(height)\n                .scale(x);\n\n            svg.append(\"g\")\n                .attr(\"class\", \"grid\")\n                .call(gridlines)  \n\n            // Add Y axis\n            var y = d3.scaleLinear()\n                .domain([-750, 750])\n                .range([ height, 0 ]);\n            \n           \n            // color palette\n            var color = d3.scaleOrdinal()\n                .domain(keys)\n                .range([\"#F94D50\",\"#f3722c\",\"#f8961e\",\"#f9844a\",\"#f9c74f\",\"#90be6d\",\"#43aa8b\",\"#4d908e\",\"#277da1\"])\n\n            //stack the data?\n            var stackedData = d3.stack()\n                .offset(d3.stackOffsetSilhouette)\n                .keys(keys)\n                (data)\n\n\n            var Tooltip = svg\n                .append(\"text\")\n                .attr(\"x\", 35)\n                .attr(\"y\", 25)\n                .style(\"opacity\", 0)\n                .style(\"font-size\", 17)\n\n            var mouseover = function(d) {\n                console.log(d)\n                Tooltip.style(\"opacity\", 1)\n                d3.selectAll(\".myArea\").style(\"opacity\", .2)\n                d3.select(this)\n                .style(\"stroke\", \"white\")\n                .style(\"opacity\", 1)\n            }\n\n            var mousemove = function(d,i) {\n            // Gets the key\n                let grp = keys[i]\n                // Gets the week\n                let mousex = d3.mouse(this);\n                mousex = mousex[0];\n                let invert = Math.floor(x.invert(mousex));\n\n                // Sets tooltip to the new string\n                Tooltip.text(\"Week \" + invert + \"- \" + grp + \": \"  + data[invert-1][grp]);\n            }\n\n            var mouseleave = function(d) {\n                Tooltip.style(\"opacity\", 0)\n                d3.selectAll(\".myArea\").style(\"opacity\", 1).style(\"stroke\", \"none\")\n            }\n\n            // Show the areas\n            svg\n                .selectAll(\"mylayers\")\n                .data(stackedData)\n                .enter()\n                .append(\"path\")\n                .attr(\"class\", \"myArea\")\n                    .style(\"fill\", function(d) { return color(d.key); })\n                .attr(\"d\", d3.area()\n                    .curve(d3.curveMonotoneX)\n                    .x(function(d, i) { return x(d.data.week_number); })\n                    .y0(function(d) { return y(d[0]); })\n                    .y1(function(d) { return y(d[1]); })\n                )\n                .on(\"mouseover\", mouseover)\n                .on(\"mousemove\", mousemove)\n                .on(\"mouseleave\", mouseleave)\n\n        })\n    }\n\n    render(){\n        return <svg width={this.props.width} height={this.props.height}\n                ref={handle => {this.svg = d3.select(handle)}}></svg>\n    }\n\n}\n\nexport default StreamChart;","import React from 'react';\nimport * as d3 from 'd3';\nimport '../css/maps.css'\nimport { selection } from 'd3';\n\nlet secretWeekSelector = 1;\n\nclass PlagueMap extends React.Component {\n    componentDidMount() {\n        this.drawChart();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.selector !== this.props.selector) {\n            console.log('b: ' + this.props.selector)\n\n            this.updateChart();\n        }\n    }\n\n    updateChart() {\n        secretWeekSelector = this.props.selector;\n        console.log('t:' + this.props.selector)\n\n        let svg = this.svg;\n        let g = svg.select('g');\n        console.log(g.size());\n        let mapLayer = g.select('g.map-layer');\n        console.log(mapLayer.size());\n\n        let color = d3.scaleThreshold()\n        .domain([1, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 700])\n        .range([\"#efe6b4\",\"#f6d27f\",\"#fdc14a\",\"#fb9d22\",\"#f57e00\",'#ec720f',\"#ea5110\",\"#e22828\",'#bd251d',\"#ab212a\",'#88202a',\"#762334\",\"#4e1824\"]);\n\n        // get weekly count\n        function pCount(d){\n            let week = 'week' + secretWeekSelector;\n            console.log('WeekCount:' + week)\n            return d.properties[week];\n        }\n\n        // Get province color\n        function fillFn(d){\n            let c = pCount(d);\n            return color(c);\n        }\n\n        let all = mapLayer.selectAll('path');\n        console.log(all.size());\n        all.style('fill', function(d){return fillFn(d);});\n    }\n\n    drawChart() {\n        let width = this.props.width,\n        height = this.props.height,\n        centered;\n\n        secretWeekSelector = this.props.selector;\n        console.log('t:' + this.props.selector)\n\n        // Define color scale\n        let color = d3.scaleThreshold()\n        .domain([1, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 700])\n        .range([\"#efe6b4\",\"#f6d27f\",\"#fdc14a\",\"#fb9d22\",\"#f57e00\",'#ec720f',\"#ea5110\",\"#e22828\",'#bd251d',\"#ab212a\",'#88202a',\"#762334\",\"#4e1824\"]);\n\n        let projection = d3.geoMercator()\n            .scale(200000)\n            // Center the Map in London\n            .center([-0.08629450633040443, 51.5231191276096])\n            .translate([width / 2, height / 2]);\n\n        let path = d3.geoPath()\n            .projection(projection);\n\n        // Set svg width & height\n        let svg = this.svg\n            .attr('width', width)\n            .attr('height', height);\n\n        // Add background\n        svg.append('rect')\n        .attr('class', 'background')\n        .attr('width', width)\n        .attr('height', height)\n        .on('click', clicked);\n\n        let g = svg.append('g');\n\n        let effectLayer = g.append('g')\n        .classed('effect-layer', true);\n\n        let mapLayer = g.append('g')\n        .classed('map-layer', true);\n\n        let chartLayer = g.append('g')\n            .classed('chart-layer', true)\n\n        let bigText = g.append('text')\n        .classed('big-text', true)\n        .attr('x', 20)\n        .attr('y', 45);\n\n        let countText = g.append('text')\n        .classed('count-text', true)\n        .attr('x', 23)\n        .attr('y', 70);\n\n        // Load map data\n        d3.json(this.props.data, function(error, mapData) {\n            let features = mapData.features;\n        // Draw each parish as a path\n            mapLayer.selectAll('path')\n                .data(features)\n                .enter().append('path')\n                .attr('d', path)\n                .attr('vector-effect', 'non-scaling-stroke')\n                .style('fill', fillFn)\n                .on('mouseover', mouseover)\n                .on('mouseout', mouseout)\n                .on('click', clicked);\n            });\n\n        // Get parish name\n        function nameFn(d){\n            return d && d.properties ? d.properties.parish : null;\n        }\n\n        // get weekly count\n        function pCount(d){\n            let week = 'week' + secretWeekSelector;\n            console.log('WeekCount:' + week)\n            return d.properties[week];\n        }\n\n        // Get province color\n        function fillFn(d){\n            let c = pCount(d);\n            return color(c);\n        }\n\n        // When clicked, zoom in\n        function clicked(d) {\n        let x, y, k;\n\n        // Compute centroid of the selected path\n        if (d && centered !== d) {\n            let centroid = path.centroid(d);\n            x = centroid[0];\n            y = centroid[1];\n            k = 4;\n            centered = d;\n        } else {\n            x = width / 2;\n            y = height / 2;\n            k = 1;\n            centered = null;\n        }\n\n        // Highlight the clicked parish\n        mapLayer.selectAll('path')\n            .style('fill', function(d){return centered && d===centered ? '#D5708B' : fillFn(d);});\n\n        // Zoom\n        g.transition()\n            .duration(750)\n            .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')scale(' + k + ')translate(' + -x + ',' + -y + ')');\n        }\n\n        // --------------- MOUSE EVENTS ---------------\n\n        function mouseover(d){\n        // Highlight hovered parish\n        d3.select(this).style('fill', 'orange');\n\n        // Draw effects\n        textArt(nameFn(d));\n        disCount(pCount(d));\n        }\n\n        function mouseout(d){\n        // Reset province color\n        mapLayer.selectAll('path')\n            .style('fill', function(d){return centered && d===centered ? '#D5708B' : fillFn(d);});\n\n        // Remove effect text\n        effectLayer.selectAll('text').transition()\n            .style('opacity', 0)\n            .remove();\n\n        // Clear province name\n        bigText.text('');\n        countText.text('')\n        }\n\n        // ---------------- TEXT STYLING -----------------\n\n        let BASE_FONT = \"'Helvetica Neue', Helvetica, Arial, sans-serif\";\n\n        let FONTS = [\n            \"Open Sans\",\n            \"Josefin Slab\",\n            \"Arvo\",\n            \"Lato\",\n            \"Vollkorn\",\n            \"Abril Fatface\",\n            \"Old StandardTT\",\n            \"Droid+Sans\",\n            \"Lobster\",\n            \"Inconsolata\",\n            \"Montserrat\",\n            \"Playfair Display\",\n            \"Karla\",\n            \"Alegreya\",\n            \"Libre Baskerville\",\n            \"Merriweather\",\n            \"Lora\",\n            \"Archivo Narrow\",\n            \"Neuton\",\n            \"Signika\",\n            \"Questrial\",\n            \"Fjalla One\",\n            \"Bitter\",\n            \"letela Round\"\n        ];\n\n        function textArt(text){\n        // Use random font\n        let fontIndex = Math.round(Math.random() * FONTS.length);\n        let fontFamily = FONTS[fontIndex] + ', ' + BASE_FONT;\n\n        bigText\n            .style('font-family', fontFamily)\n            .text(text);\n        }\n\n        function disCount(count){\n        let fontFamily = BASE_FONT;\n        countText\n            .style('font-family', fontFamily)\n            .text(\"# of plague burials: \" + count);\n\n        }\n    }\n\n    render(){\n        return <svg width={this.props.width} height={this.props.height}\n            ref={handle => {this.svg = d3.select(handle)}}></svg>\n    }\n\n}\n\nexport default PlagueMap;","export default __webpack_public_path__ + \"static/media/causes-of-death.35667d1f.csv\";","export default __webpack_public_path__ + \"static/media/play-data.125420a8.geojson\";","export default __webpack_public_path__ + \"static/media/dup.d17747ef.geojson\";","export default __webpack_public_path__ + \"static/media/weeklydisease.edde0790.csv\";","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport '../css/fadeSec.css';\n\nfunction FadeInSection(props) {\n    const [isVisible, setVisible] = React.useState(false);\n    const domRef = React.useRef();\n    React.useEffect(() => {\n      const observer = new IntersectionObserver(entries => {\n        entries.forEach(entry => setVisible(entry.isIntersecting));\n      });\n      observer.observe(domRef.current);\n    }, []);\n    return (\n      <div\n        className={`fade-in-section ${isVisible ? 'is-visible' : ''}`}\n        ref={domRef}\n      >\n        {props.children}\n      </div>\n    );\n  }\n\nexport default FadeInSection;\n","import React from 'react';\nimport * as d3 from 'd3';\nimport '../css/maps.css'\nimport { selection } from 'd3';\n\nlet secretWeekSelector = 1;\n\nclass BurialMap extends React.Component {\n    componentDidMount() {\n        this.drawChart();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.selector !== this.props.selector) {\n            console.log('b: ' + this.props.selector)\n\n            this.updateChart();\n        }\n    }\n\n    updateChart() {\n        secretWeekSelector = this.props.selector;\n        console.log('t:' + this.props.selector)\n\n        let svg = this.svg;\n        let g = svg.select('g');\n        //console.log(g.size());\n        let mapLayer = g.select('g.map-layer');\n        console.log(mapLayer.size());\n\n        let color = d3.scaleThreshold()\n        .domain([1, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 700])\n        .range([\"#efe6b4\",\"#f6d27f\",\"#fdc14a\",\"#fb9d22\",\"#f57e00\",'#ec720f',\"#ea5110\",\"#e22828\",'#bd251d',\"#ab212a\",'#88202a',\"#762334\",\"#4e1824\"]);\n\n        // get weekly count\n        function pCount(d){\n            let week = 'week' + secretWeekSelector;\n            console.log('WeekCount:' + week)\n            return d.properties[week];\n        }\n\n        // Get province color\n        function fillFn(d){\n            let c = pCount(d);\n            return color(c);\n        }\n\n        let all = mapLayer.selectAll('path');\n        console.log(all.size());\n        all.style('fill', function(d){return fillFn(d);});\n    }\n\n    drawChart() {\n        let width = this.props.width,\n        height = this.props.height,\n        centered;\n\n        secretWeekSelector = this.props.selector;\n        console.log('t:' + this.props.selector)\n\n        // Define color scale\n        let color = d3.scaleThreshold()\n        .domain([1, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 700])\n        .range([\"#efe6b4\",\"#f6d27f\",\"#fdc14a\",\"#fb9d22\",\"#f57e00\",'#ec720f',\"#ea5110\",\"#e22828\",'#bd251d',\"#ab212a\",'#88202a',\"#762334\",\"#4e1824\"]);\n\n        let projection = d3.geoMercator()\n            .scale(200000)\n            // Center the Map in London\n            .center([-0.10629450633040443, 51.5231191276096])\n            .translate([width / 2, height / 2]);\n\n        let path = d3.geoPath()\n        .projection(projection);\n\n        // Set svg width & height\n        let svg = this.svg\n\n        // Add background\n        svg.append('rect')\n        .attr('class', 'background')\n        .attr('width', width)\n        .attr('height', height)\n        .on('click', clicked);\n\n        let g = svg.append('g');\n\n        let effectLayer = g.append('g')\n        .classed('effect-layer', true);\n\n        let mapLayer = g.append('g')\n        .classed('map-layer', true);\n\n        let chartLayer = g.append('g')\n        .classed('chart-layer', true)\n\n        let bigText = g.append('text')\n        .classed('big-text', true)\n        .attr('x', 20)\n        .attr('y', 45);\n\n        let countText = g.append('text')\n        .classed('count-text', true)\n        .attr('x', 23)\n        .attr('y', 70);\n\n        // Load map data\n        d3.json(this.props.data, function(error, mapData) {\n            let features = mapData.features;\n        // Draw each parish as a path\n        mapLayer.selectAll('path')\n            .data(features)\n            .enter().append('path')\n            .attr('d', path)\n            .attr('vector-effect', 'non-scaling-stroke')\n            .style('fill', fillFn)\n            .on('mouseover', mouseover)\n            .on('mouseout', mouseout)\n            .on('click', clicked);\n        });\n\n        // Get parish name\n        function nameFn(d){\n            return d && d.properties ? d.properties.parish : null;\n        }\n\n        // get weekly count\n        function pCount(d){\n            let week = 'week' + secretWeekSelector;\n            console.log('WeekCount:' + week)\n            return d.properties[week];\n        }\n\n        // Get province color\n        function fillFn(d){\n            let c = pCount(d);\n            return color(c);\n        }\n\n        // When clicked, zoom in\n        function clicked(d) {\n        let x, y, k;\n\n        // Compute centroid of the selected path\n        if (d && centered !== d) {\n            let centroid = path.centroid(d);\n            x = centroid[0];\n            y = centroid[1];\n            k = 4;\n            centered = d;\n        } else {\n            x = width / 2;\n            y = height / 2;\n            k = 1;\n            centered = null;\n        }\n\n        // Highlight the clicked parish\n        mapLayer.selectAll('path')\n            .style('fill', function(d){return centered && d===centered ? '#D5708B' : fillFn(d);});\n\n        // Zoom\n        g.transition()\n            .duration(750)\n            .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')scale(' + k + ')translate(' + -x + ',' + -y + ')');\n        }\n\n        // --------------- MOUSE EVENTS ---------------\n\n        function mouseover(d){\n        // Highlight hovered parish\n        d3.select(this).style('fill', 'orange');\n\n        // Draw effects\n        textArt(nameFn(d));\n        disCount(pCount(d));\n        }\n\n        function mouseout(d){\n        // Reset province color\n        mapLayer.selectAll('path')\n            .style('fill', function(d){return centered && d===centered ? '#D5708B' : fillFn(d);});\n\n        // Remove effect text\n        effectLayer.selectAll('text').transition()\n            .style('opacity', 0)\n            .remove();\n\n        // Clear province name\n        bigText.text('');\n        countText.text('')\n        }\n\n        // ---------------- TEXT STYLING -----------------\n\n        let BASE_FONT = \"'Helvetica Neue', Helvetica, Arial, sans-serif\";\n\n        let FONTS = [\n            \"Open Sans\",\n            \"Josefin Slab\",\n            \"Arvo\",\n            \"Lato\",\n            \"Vollkorn\",\n            \"Abril Fatface\",\n            \"Old StandardTT\",\n            \"Droid+Sans\",\n            \"Lobster\",\n            \"Inconsolata\",\n            \"Montserrat\",\n            \"Playfair Display\",\n            \"Karla\",\n            \"Alegreya\",\n            \"Libre Baskerville\",\n            \"Merriweather\",\n            \"Lora\",\n            \"Archivo Narrow\",\n            \"Neuton\",\n            \"Signika\",\n            \"Questrial\",\n            \"Fjalla One\",\n            \"Bitter\",\n            \"letela Round\"\n        ];\n\n        function textArt(text){\n        // Use random font\n        let fontIndex = Math.round(Math.random() * FONTS.length);\n        let fontFamily = FONTS[fontIndex] + ', ' + BASE_FONT;\n\n        bigText\n            .style('font-family', fontFamily)\n            .text(text);\n        }\n\n        function disCount(count){\n        let fontFamily = BASE_FONT;\n        countText\n            .style('font-family', fontFamily)\n            .text(\"# of burials: \" + count);\n\n        }\n        this.svg = svg;\n    }\n\n    render(){\n        return <svg width={this.props.width} height={this.props.height}\n            ref={handle => {this.svg = d3.select(handle)}}></svg>\n    }\n\n}\n\nexport default BurialMap;","import React from 'react';\nimport * as d3 from 'd3';\nimport { interpolateOranges } from 'd3-scale-chromatic';\n\n\nlet secretWeekSelector = 1;\n\nclass BarChart extends React.Component {\n    componentDidMount() {\n        this.drawChart();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.selector !== this.props.selector) {\n            console.log('b: ' + this.props.selector)\n\n            this.updateChart();\n        }\n    }\n\n    updateChart() {\n        this.svg.selectAll('g').remove();\n\n        secretWeekSelector = this.props.selector;\n        console.log('t:' + this.props.selector)\n\n        var margin = {top: 30, right: 30, bottom: 115, left: 60},\n        width = this.props.width - margin.left - margin.right,\n        height = this.props.height - margin.top - margin.bottom;\n\n        // append the svg object to the body of the page\n        var svg = this.svg\n            .append(\"g\")\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        var color = d3.scaleOrdinal()\n            .domain(82)\n            .range([\"#F94D50\",\"#f9c74f\",\"#43aa8b\",\"#4d908e\",\"#277da1\"])\n\n\n\n        // Parse the Data\n        d3.csv(this.props.data, function(data) {\n\n        // X axis\n        var x = d3.scaleBand()\n        .range([ 0, width ])\n        .domain(data.map(function(d) { return d.cause; }))\n        .padding(0.2);\n        svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x))\n        .selectAll(\"text\")\n            .attr(\"transform\", \"translate(-12,5)rotate(-75)\")\n            .style(\"text-anchor\", \"end\");\n\n        var max = d3.max(data, function(d) { return +d[secretWeekSelector]; } );\n        // colour.domain([-max, max]);\n\n        // Add Y axis\n        var y = d3.scaleLinear()\n        .domain([0, max + 5])\n        .range([ height, 0]);\n        svg.append(\"g\")\n        .call(d3.axisLeft(y));\n\n        var gridlines = d3.axisLeft()\n            .tickFormat(\"\")\n            .tickSize(-width)\n            .scale(y);\n\n        svg.append(\"g\")\n            .attr(\"class\", \"grid\")\n            .call(gridlines);\n\n        // Bars\n        svg.selectAll(\"mybar\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n            .attr(\"x\", function(d) { return x(d.cause); })\n            .attr(\"y\", function(d) { return y(d[secretWeekSelector]); })\n            .attr(\"width\", x.bandwidth())\n            .attr(\"height\", function(d) { return height - y(d[secretWeekSelector]); })\n            .attr(\"fill\", function(d) { return color(82); })\n            // .attr(\"fill\", function(d) {\n            // return colour(d['1'])\n            // })\n\n\n        })\n    }\n\n    drawChart() {\n        secretWeekSelector = this.props.selector;\n        console.log('t:' + this.props.selector)\n\n        var margin = {top: 30, right: 30, bottom: 115, left: 60},\n        width = this.props.width - margin.left - margin.right,\n        height = this.props.height - margin.top - margin.bottom;\n\n        // append the svg object to the body of the page\n        var svg = this.svg\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .attr(\"id\", \"bar\")\n        .append(\"g\")\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        // var colour = d3.scaleSequential(d3.schemeCategory10);\n        \n        var color = d3.scaleOrdinal()\n            .domain(82)\n            .range([\"#F94D50\",\"#f9c74f\",\"#43aa8b\",\"#4d908e\",\"#277da1\"])\n\n\n        // Parse the Data\n        d3.csv(this.props.data, function(data) {\n\n        // X axis\n        var x = d3.scaleBand()\n            .range([ 0, width ])\n            .domain(data.map(function(d) { return d.cause; }))\n            .padding(0.2);\n\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(x))\n            .selectAll(\"text\")\n                .attr(\"transform\", \"translate(-12,5)rotate(-75)\")\n                .style(\"text-anchor\", \"end\");\n\n        var max = d3.max(data, function(d) { return +d[secretWeekSelector]; } );\n        // colour.domain([-max, max]);\n\n        // Add Y axis\n        var y = d3.scaleLinear()\n            .domain([0, max + 5])\n            .range([ height, 0])\n\n        svg.append(\"g\")\n            .call(d3.axisLeft(y))\n        \n        var gridlines = d3.axisLeft()\n            .tickFormat(\"\")\n            .tickSize(-width)\n            .scale(y);\n\n        svg.append(\"g\")\n            .attr(\"class\", \"grid\")\n            .call(gridlines);\n\n\n        // Bars\n        svg.selectAll(\"mybar\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n            .attr(\"x\", function(d) { return x(d.cause); })\n            .attr(\"y\", function(d) { return y(d[secretWeekSelector]); })\n            .attr(\"width\", x.bandwidth())\n            .attr(\"height\", function(d) { return height - y(d[secretWeekSelector]); })\n            .attr(\"fill\", function(d) { return color(82); })\n            // .attr(\"fill\", function(d) {\n            // return colour(d['1'])\n            // })\n\n\n        })\n    }\n\n    render(){\n        return <svg width={this.props.width} height={this.props.height}\n                ref={handle => {this.svg = d3.select(handle)}}></svg>\n    }\n\n}\n\nexport default BarChart;","import React from 'react';\nimport StreamChart from './components/StreamChart.js';\nimport PlagueMap from './components/PlagueMap.js';\nimport './css/App.css';\nimport dieaseTot from './causes-of-death.csv'\nimport plagueMapData from './play-data.geojson'\nimport burialMapData from './dup.geojson'\nimport weeklydisease from './weeklydisease.csv'\nimport FadeInSection from './components/fadeinSec.js';\n\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nimport BurialMap from './components/BurialMap.js';\nimport BarChart from './components/BarChart.js';\n\nconst titlesTotals = require('./titles-totals.json');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 1\n    };\n  }\n\n  onSliderChange = value => {\n    this.setState(\n      {\n        value\n      },\n      () => {\n        console.log(this.state.value);\n      }\n    );\n  };\n\n  stateStream = {\n    data: dieaseTot,\n    width: 1100,\n    height: 550,\n    id: \"root\"\n  }\n\n  statePlague = {\n    data: plagueMapData,\n    width: 600,\n    height: 625,\n    id: \"root\"\n  }\n\n  stateBurial = {\n    data: burialMapData,\n    width: 600,\n    height: 625,\n    id: \"root\"\n  }\n\n  stateBar = {\n    data: weeklydisease,\n    width: 1100,\n    height: 550,\n    id: \"root\"\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n\n      <FadeInSection>\n\n        <section id= 'intro'>\n          <h1>MODERN OBSERVATIONS ON THE BILLS OF MORTALITY</h1>\n\n          <blockquote>\n          <p>&quot;<em>Consider His Mercy to Thee and Mee, that we are yet in the Land of the Living, to work out our Salvation with Fear and Trembling</em>&quot;</p>\n          </blockquote>\n\n          <iframe src=\"https://archive.org/embed/2378023r?ui=embed#page/n9/mode/2up\" title=\"London's Dreadful Visitation\" height=\"500\" width=\"1100\" frameBorder=\"0\" webkitallowfullscreen=\"true\" mozallowfullscreen=\"true\" allowFullScreen=\"\"></iframe>\n\n          <div id = 'intro-text'>\n\n          <p>With a title page framed by elaborate symbols of memento mori and a title that implies a devastating ordeal, the introductory message from which this quote derives from in <em>London&#39;s Dreadful Visitation</em> apologising for its publication due to its contents recounting the devastation the swept across London during that year, seems unsurprising.</p>\n          <p>The introduction of this document was composed by its printer, E. Cotes, also known as Ellinor or Ellen Cotes, widow of the printing shop’s previous owner Richard Cotes. Like most printers in 1665, she functioned on a commission basis printing a variety of texts from <a href=\"https://quod.lib.umich.edu/e/eebo/A29556.0001.001?view=toc\">fiction</a> to <a href=\"https://quod.lib.umich.edu/e/eebo2/A61915.0001.001?view=toc\">textbooks</a>; yet unlike her other texts, printing <em>London&#39;s Dreadful Visitation, or, a Collection of All the Bills of Mortality for This Present Year</em> was a special privilege granted to her by the Company of Parish-Clerks. This group was composed of the parish clerks of London, who were in charge of registering those within the area of their assigned parish, as well as tracking the weekly burials and causes of death for their parish to be reported in the &#39;Bills of Mortality. These &#39;bills&#39; began to be published inconsistently during the late 16th century, featuring a list of all parishes in and surrounding the city of London at the given time; beside each parish,  there was a count stating the total number of burials that week and how many of those burials were due to a death caused by the plague provided by the appointed clerk of each parish. It was around 1629 when an additional page was attached to the bills, which featured categories of disease and the total count of those who died from the specified diseases across all parishes, which led to the finalized form of the bills found in <em>London&#39;s Dreadful Visitation</em>.</p>\n          <p>In the 17th century printing was heavily controlled by the ruling monarchy in fear of the dissemination of negative press, but the work of the Company of Parish-Clerks was seen as a valuable service to the public, thus they were authorized to use the printing press. But the Company was afraid of defamation through misrepresentation much like the monarchy, so in hopes of avoiding this, the Cotes printing shop was given exclusive rights to printing the weekly Bills of Mortality; this way, it could always be known what weekly mortality data was considered official by looking at the printer, and the Company of Parish-Clerks could also refute any claims of inconsistent or incorrect data by noting the source from which the claim derived.</p>\n          <p>What both stands out about this document and sets the stage for what is to follow, is the opening message written by Cotes, &quot;The Printer to the Reader&quot;, which is something not found in her other publications. The weekly bills compiled in this document were published primarily to inform Londoners about occurrences of disease and plague in their community, yet in her introduction, Cotes implores readers to repent so that they may be saved as the tragedy of the plague highlighted God&#39;s power. As Cotes was a layperson herself, this interpretation of the plague as an act of God rather than something purely medical within the context of numerous documents on disease gives one an idea of how contagion and infection may have been conceptualized by the greater public. How seriously the bills and their contents were treated speaks to a common belief in-- and fear of-- communicable disease, yet at the forefront of the cumulative text which features all diseases known to Londoners, rather than discussing how disease might be transmitted and how this could be prevented, the advice given is to repent for one’s sins in hopes that God will restore health to the city.</p>\n          <p>By looking at more deeply at the contents of <em>London&#39;s Dreadful Visitation</em> using digital perspectives, we can learn more about how Cotes&#39;s views came to be as the movement of disease and people across London during the year of 1665 speak to the growing social change that was occurring in the city as plague overtook it. What made London a truly sinful city?</p>\n\n          </div>\n\n        </section>\n      </FadeInSection>\n\n      <section id='maps'>\n        <PlagueMap data={this.statePlague.data} width={this.statePlague.width} height={this.statePlague.height} selector={this.state.value}/>\n        <BurialMap data={this.stateBurial.data} width={this.stateBurial.width} height={this.stateBurial.height} selector={this.state.value}/>\n      </section>\n\n      <section id='slider'>\n        <div style={{ marginLeft: 15, marginRight: 15 }}>{titlesTotals[this.state.value - 1].week_text}</div>\n        <div style={{ marginLeft: 15, marginRight: 15, marginBottom: 25 }}>{\"Plague Death Total: \" + titlesTotals[this.state.value - 1].Plague}</div>\n        <Slider\n              id = 'weekData'\n              min={1}\n              max={52}\n              value={this.state.value}\n              step={1}\n              marks={{1: '1',\n                      2: '2',\n                      3: '3',\n                      4: '4',\n                      5: '5',\n                      6: '6',\n                      7: '7',\n                      8: '8',\n                      9: '9',\n                      10: '10',\n                      11: '11',\n                      12: '12',\n                      13: '13',\n                      14: '14',\n                      15: '15',\n                      16: '16',\n                      17: '17',\n                      18: '18',\n                      19: '19',\n                      20: '20',\n                      21: '21',\n                      22: '22',\n                      23: '23',\n                      24: '24',\n                      25: '25',\n                      26: '26',\n                      27: '27',\n                      28: '28',\n                      29: '29',\n                      30: '30',\n                      31: '31',\n                      32: '32',\n                      33: '33',\n                      34: '34',\n                      35: '35',\n                      36: '36',\n                      37: '37',\n                      38: '38',\n                      39: '39',\n                      40: '40',\n                      41: '41',\n                      42: '42',\n                      43: '43',\n                      44: '44',\n                      45: '45',\n                      46: '46',\n                      47: '47',\n                      48: '48',\n                      49: '49',\n                      50: '50',\n                      51: '51',\n                      52: '52'\n              }}\n              onChange={this.onSliderChange}\n            />\n      </section>\n\n      <section id='barchart'>\n        <BarChart data={this.stateBar.data} width={this.stateBar.width} height={this.stateBar.height} selector={this.state.value}/>\n      </section>\n\n      <section id='main'>\n        <FadeInSection>\n        <h2 id=\"counting-the-dead\">Counting the Dead in Context</h2>\n        <figure>\n          <img id=\"searchersImg\" src='../searchers-image.jpg' alt='searchers' />\n          <figcaption><em>Broadsheet depicting the 1665 plague in London, the second image from the <br / > bottom shows a pair of searchers at work. Anonymous Plague Broadsheet <br / > (c. 1665). Pepys Library, Magdalene College, Cambridge (PL 2973/447).</em></figcaption>\n        </figure>\n        <h3 id=\"those-who-collected-the-data\">Those Who Collected the Data</h3>\n        <p>&#39;Searchers&#39; often received a bad reputation by the most significant thinkers of the 17th century; both John Graunt in his <em>Natural and Political Observations on the Bills of Mortality</em> on the year of 1662 and Thomas Dekker in previous plague years commented on the apparent ignorance and carelessness of searchers leading to the inaccuracies found in the weekly Bills of Mortality. These searchers discussed by both men were often poor, elderly women who were sent in pairs into the homes of the recently deceased members of their parish to diagnose the cause of death. These women were often forced into this line of work due to the idea that they were expendable, as they had nothing positive to give to their community-- widowed and left with no family to support them, they relied on a pension from the church to survive which they could lose should they refuse to work. In plague years, the role of searchers was especially significant as they had power over the decision of what caused death, and thus they were those who ultimately determined how their parish would be perceived across London based on the number of those that died from the plague.</p>\n        <p>Despite the purpose of their role being the diagnosis of death, searchers had little to no medical training which is where much of the criticism of their reported totals lies. Yet this mistrust surrounding those who were searchers stemmed from more than just their uncertain medical knowledge; in his <em>Reflections on the Weekly Bills of Mortality for the Cities of London and Westminster</em>, John Graunt specifies that &quot;the poor Searchers, out of ignorance, respect, love of money, or malice misreported many deaths.&quot; As class was increasingly taking shape in 17th century London, the economic status of the searchers also became a testament to the validity of the numbers they provided. Since the women who were searchers were often poor, it was believed that they could easily be bribed by those with higher status to diagnose the deceased with a disease seen as more favourable than something like the plague. This idea was further built upon by common beliefs held by wealthier members of society that those who were poor were often lazy and prone to malice; thus, the work of the searchers was even more untrustworthy due to the notion that they may simply misdiagnose disease and alter death counts for no other reason than to damage the reputation of the parish they oversaw.</p>\n        <p>This suspicion of a searcher&#39;s words also carried over into a suspicion of their very presence. Moving in and out of the homes of the sick resulted in they themselves being treated as a disease, capable of harbouring and spreading the plague wherever they went. Thus, during times of plague outbreak, searchers were required to mark themselves as contaminated by carrying red wands or walking sticks; searchers were also told to move by means of parish alleyways where they were less likely to interact with members of the community and to avoid gathering with others, although this was a simple demand to meet considering that they were typically isolated and shunned by their community. With this combination of official mandates and social stigma surrounding poverty and disease, the searcher was not a person simply excluded from her parish community but marginalized within it.</p>\n        </FadeInSection>\n\n        <FadeInSection>\n        <h3 id=\"those-who-compiled-the-data\">Those Who Compiled the Data</h3>\n        <p>The next step within the process of creating the Bills of Mortality compiled in <em>London&#39;s Dreadful Visitation</em> was done by the parish clerks, as mentioned previously. Although those who were appointed to the role of parish clerk were typically respected members of the community, they were also the point at which data was skewed with intention. Despite searchers being untrained in formal medicine, they often did take their role seriously in attempting to determine accurate causes of death. If it was discovered that they accepted a bribed to misattribute a cause of death, they risked having their entire pension taken away from them, so, despite the popular notion that they were prone to bribery and laziness, the risk of extortion often outweighed the benefits of it. Yet the preconceived notions about poor individuals and the knowledge that they were the first step in collecting the mortality data within their community left them easy to place blame upon, which the social status of the parish clerks protected against.</p>\n        <p>The preserved diaries of those with some status are rather telling of how the collected numbers were altered not by those collecting them, but by those compiling them. In the journal of naval administrator Samuel Pepys, he recalls a time where he went to visit his parish&#39;s clerk in an effort to acquire information about the plague in advance of the weekly bill being published; the clerk responded to his inquiry with &#39;there died nine this week, though I have returned but six.&#39; Often through bribery from a wealthy family or as a favour to them to increase his social mobility and status, a parish clerk would mark in his notes that the deceased of these families should be buried in the churchyard or area designated for non-plague burials. Doing so allowed for these families to have a normal funeral procession and also freed them from the stigma and mandatory quarantine that came attached to deaths of family members caused by the plague.</p>\n        <p>When compiling the weekly totals for the Bills of Mortality, a parish clerk also took into consideration how the causes of mortality reflected how the rest of London viewed their parish. Parishes with a population that contained a larger number of London&#39;s elite often wanted to maintain their status of wealth and prosperity, and because disease and outbreaks tended to be associated with uncleanliness and poverty, the plague totals may be altered and the deaths redistributed to other causes prior to being publically distributed. This way, their parish may be perceived as less affected and thus safer and more reputable, but also draw attention to the more impoverished parishes with higher totals, distracting from the numbers which they had altered.</p>\n        </FadeInSection>\n\n        <FadeInSection>\n        <h2 id=\"so-how-does-this-affect-what-we-see-\">So how does this affect what we see?</h2>\n        </FadeInSection>\n\n        <FadeInSection>\n        <h3 id=\"spatial-aspects-of-disease\">Spatial Considerations</h3>\n        <p>To situate the influence of disease in 1665 London, it is key to observe first how the city was divided. At the document level, we can find this information by looking at how the page of burials by parish is laid out. First, the central parishes within the city of London&#39;s walls are listed, then separated from this are the parishes outside the walls along with the parishes of Westminister and the city suburbs of Middlesex and Surrey. The outer parishes divided from those of the city were typically composed of working-class individuals who were pushed out of the more affluent areas of central London, and thus these rapidly growing areas became associated with crime and disease. This identity was further exacerbated by systems of public charity and relief within London&#39;s parishes, as the parishes within the walls maintained a well-organized exchanged between rich and poor parishes, while these newly establishing outer parishes relied only on their own, few resources, leading to a much lower standard of living.</p>\n        <p>Thus, the combination of living conditions found in these less wealthy areas coupled with the deceptive reporting of mortality by a number of parish clerks led to the first cases of the plague appearing in the section of the Bills set aside for the parishes along the outer walls of London, which is also reflected in the map visualising this data above. This geographic and social boundary enforced by how the Bills of Mortality were laid out served as assurance for many members of upper society situated in central London when the plague first broke out, as it created a degree of distance between their home and the terror which lingered outside of its walls.</p>\n        </FadeInSection>\n\n\n        <FadeInSection>\n        <div id='streamchart'>\n          <StreamChart data={this.stateStream.data} width={this.stateStream.width} height={this.stateStream.height}/>\n        </div>\n\n        <h3 id=\"disease-deception\">The Class of Disease</h3>\n        <p>With all this context regarding the formation of the Bills and how they shaped individuals perceptions of the metropolitan area in which they lived, the question remains, why was one dying from the plague so significant? The misdiagnoses and alteration of the reported causes of mortality and their totals map the maps displayed on this page more of a reflection on social politics than accurate statistics of death and disease. As stated, disease outbreaks were often associated with the poor and unclean, and by looking at the maps, this concept seems to hold true. There consistently remains a larger number of general burials in the poorer parishes outside the walls of central London throughout the year, and when setting the slider at position 1 to look at the very first week covered by <em>London&#39;s Dreadful Visitation</em>, one can see the there is, in fact, a single case of the plague in the majority working-class and impoverished parish of St Giles in the Fields. The plague then continues to disappear and reappear from the map in the same location up until the 20th week, May 2 to the 9th, when the plague begins to spread to the parishes east of St Giles in the Fields. Despite common belief that the bubonic plague was often imported into London due to the significance of its many dockyards along the Thames, yet since the 1665 plague outbreak had seemingly begun in a parish located away from any sites of importation, this indicated that it derived from disease that had already been living in London, but lying dormant until the perfect conditions for it to spread developed.</p>\n        <p>This pattern of development reinforced the notion for those of status or who sought higher status that plague was in fact, a symptom of poverty, thus the plague gained a stigma for marking one as lesser-- meaning that everything possible was done to avoid this label. The most popular strategy among the elite to avoid becoming a plague victim at all was to flee the city should they have the means to do so. The wealthiest had additional properties in the more rural outer parishes that they would move to during times of increased plague mortality in the parish of their primary residences. This movement from in and out of the central walls of London is visible; beginning in week 25 when plague mortality begins its increase centrally, as you move the slider forward in time you can see the decrease of plague mortality centrally but a contrasting jump in plague mortality in the outer parishes where the wealthy fled to and took plague with them. By week 40, there is a slight decrease in plague mortality within the outer parishes yet an increase within the parishes of central London, likely caused by yet another attempt by the elite to escape the ever-moving disease.</p>\n        <p>Scrolling through these weeks on the map, the totals of other causes of mortality can be noted on the associated bar chart below the slider. There are consistently a significant amount of individuals who passed away from consumption and fever, yet by looking at the stream graph which shows an overview of these other diseases that resulted in mortality throughout the entire year of 1665, as the number of deaths by plague increased, so did the number of deaths caused by other diseases. When looking at the source document itself, in the spring months when the plague had just begun appearing in a capacity beyond zero in the bills, the list of other possible causes of death grew. Between the 31st and 42nd week of the year, as the stream graph indicates there is a marked jump in the casualties caused by fever, spotted fever, and consumption. Spotted fever was occasionally noted as being difficult to distinguish from earlier stages of the plague, and fever could simply be a symptom of the plague, so although these marked surges could simply be misdiagnosed by searchers, they may also represent the redistribution and concealment of plague deaths that the wealth requested from their parish clerks to maintain their status, avoiding the negative reputation that they could garner should others know that the plague had affected their household.</p>\n        </FadeInSection>\n        </section>\n\n        <section id='bib'>\n        <h2 id=\"acknowledgements-bibliography\">Acknowledgements &amp; Bibliography</h2>\n\n        <p>I would like to express my deepest gratitude to Dr. Justin Colson from the University of Essex for aiding me in my pursuit of parish map data, as well as sharing additional resources I would have likely not found on my own.</p>\n        <p>I would also like to thank Dr. Matthew Davies and Dr Stephen Gadd from the <a href=\"https://www.layersoflondon.org/\"><em>Layers of London</em> project</a> who generously shared the various shapefiles needed to create the map I made for this site representing 1665 London.</p>\n        <p>Finally, I, of course, would like to thank my professor for the course which this project was made for, Dr. Lori Jones, for her extensive feedback and excellent teaching throughout this semester that allowed this project to take its final form.</p>\n\n        <h3>Data</h3>\n\n        <p><b>Note:</b> All data and notes on data processing for this project can be located <a href=\"https://github.com/ChantalMB/HIST3907-dreadful-visitation\">here</a>, and the repository for this website is <a href=\"https://github.com/ChantalMB/dreadful-visitation-site\">here</a>.</p>\n\n        <p>Burton, N., Southall, H. R. <em>GIS of the Ancient Parishes of England and Wales, 1500-1850.</em> [data collection]. UK Data Service, 2004 [Accessed 28 April 2021]. Available from: http://doi.org/10.5255/UKDA-SN-4828-1</p>\n\n        <h3>Primary Sources</h3>\n\n        <p>Graunt, John. <em>Natural and Political Observations, Mentioned in a Following Index, and made upon the Bills of Mortality.</em> London: John Martyn, 1662.</p>\n\n        <p>Graunt, John. <em>Reflections On the Weekly Bills of Mortality for the Cities of London and Westminster, and the Places Adjacent: But More Especially, So Far As it Relates to the Plague and Other Most Mortal Diseases That We English-Men Are Most Subject To, and Should Be Most Careful Against In This Our Age</em>. London: the Rainbow, 1665.</p>\n\n        <p>Pepys, Samuel. <em>The Diary of Samuel Pepys</em>. Vol. 1: 1660. Ed. Robert Latham and William Matthews. London: Harper Collins; University of California Press, 1971.</p>\n\n        <p class=\"p1\">The Company of Parish-Clerks of London. <em>London&apos;s dreadful visitation, or, A collection of all the bills of mortality for this present year beginning the 20th of December, 1664, and ending the 19th of December following.</em> London: E. Cotes, 1665.<span class=\"Apple-converted-space\">&nbsp;</span></p>\n\n        <h3>Secondary Sources</h3>\n\n        <p class=\"p1\">Bainbridge, Mark. &ldquo;Memento Mori: London&rsquo;s Dreadful Visitation.&rdquo; Treasures of Worcester College, University of Oxford: Worcester College Library and Archives, 2017. https://worcestercollegelibrary.wordpress.com/2017/10/31/memento-mori-londons-dreadful-visitation.</p>\n\n        <p class=\"p1\">Boulton, Jeremy. <em>Neighbourhood and Society: A London Suburb in the Seventeenth Century</em>. Cambridge: Cambridge University Press, 2005.</p>\n\n        <p class=\"p1\">Boyce, Niall. &ldquo;Bills of Mortality: tracking disease in early modern London.&rdquo; <em>The Lancet&nbsp;</em>395, no. 10231 (2020): 1186-1187.</p>\n\n        <p class=\"p1\">Cummins, Neil, Morgan Kelly, and Cormac &Oacute; Gr&aacute;da. &ldquo;Living Standards and Plague in London, 1560-1665.&rdquo; <em>Economic History Review</em> 69, no. 1 (February 2016): 3&ndash;34. doi:10.1111/ehr.12098.</p>\n\n        <p class=\"p1\">Gilman, Ernest B. <em>Plague Writing in Early Modern England.</em> Chicago: University of Chicago Press, 2009.</p>\n\n        <p class=\"p1\">Greenberg, Stephen. &quot;Plague, the Printing Press, and Public Health in Seventeenth-Century London.&quot; <em>The Huntington Library Quarterly</em> 67, no. 4 (2004): 508-527, 691.</p>\n\n        <p>Griffiths, Paul.&nbsp;<em>Lost Londons : Change, Crime, and Control in the Capital City, 1550&ndash;1660</em>. Cambridge: Cambridge University Press, 2008.</p>\n\n        <p>Mazur, Dennis J. &ldquo;Analyzing and Interpreting &lsquo;Imperfect&rsquo; Big Data in the 1600s.&rdquo; <em>Big Data &amp; Society</em>, (June 2016). https://doi.org/10.1177/2053951715609082.</p>\n\n        <p>Munkhoff, Richelle \"Searchers of the dead: authority, marginality, and the interpretation of plague in England, 1574-1665.\" <em>Gender &amp; History</em> 11, no. 1&nbsp;(1999):1-29.</p>\n\n        <p class=\"p1\">Slauter, Will. &ldquo;Write up Your Dead: The bills of mortality and the London plague of 1665.&rdquo; <em>Media History</em> 17, no. 1 (February 2011): 1&ndash;15. doi:10.1080/13688804.2011.532371.</p>\n\n        <p class=\"p1\">Wear, Andrew. &ldquo;Making us as cruel as dogs: plague in 16th and 17th century England.&rdquo; <em>The Lancet</em> 385, no. 9986, (2015): 2456-2457.</p>\n\n\n        </section>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}